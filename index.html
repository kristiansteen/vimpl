<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vimpl - Visual Project Management Made Simple</title>
    <meta name="description" content="vimpl is a visual planning board for teams. Manage projects, track risks, and collaborate in real-time with an intuitive drag-and-drop interface.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%236366f1' rx='20' width='100' height='100'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='white' font-family='Arial' font-weight='bold'>v</text></svg>">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Birthstone&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/index.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/oidc-client-ts/2.2.0/oidc-client-ts.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="/" class="logo">vimpl<span>.com</span></a>
            <div class="nav-links">
          <a href="#features" class="nav-link">Features</a>
          <a href="#" class="nav-link">Pricing</a>
          <a href="#" class="nav-link">About</a>
        </div>
        <div class="nav-auth">
          <!-- Auth buttons will be dynamically shown/hidden -->
        </div>
      </div>
    </nav>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <div class="hero-badge">
                    <i class="fas fa-sparkles"></i>
                    Free to use • No sign-up required
                </div>
                <h1>Visual project planning <span>made simple</span></h1>
                <p>Plan projects, track risks, and manage your team with an intuitive visual board. Drag, drop, and collaborate — all in your browser.</p>
                <div class="hero-buttons">
                    <a href="board.html?new=true" class="btn-primary">
                        <i class="fas fa-plus"></i> Create Board
                    </a>
                    <a href="#features" class="btn-secondary">
                        <i class="fas fa-play"></i> See how it works
                    </a>
                </div>
            </div>
            <div class="hero-image">
                <div class="hero-preview">
                    <div class="preview-header">
                        <span class="preview-dot red"></span>
                        <span class="preview-dot yellow"></span>
                        <span class="preview-dot green"></span>
                    </div>
                    <div class="preview-content">
                        <div class="preview-card purple">
                            <span class="preview-postit yellow"></span>
                        </div>
                        <div class="preview-card blue">
                            <span class="preview-postit pink"></span>
                            <span class="preview-postit blue"></span>
                        </div>
                        <div class="preview-card green">
                            <span class="preview-postit yellow"></span>
                        </div>
                        <div class="preview-card orange">
                            <span class="preview-postit pink"></span>
                        </div>
                        <div class="preview-card"></div>
                        <div class="preview-card purple">
                            <span class="preview-postit blue"></span>
                        </div>
                        <div class="preview-card"></div>
                        <div class="preview-card green">
                            <span class="preview-postit yellow"></span>
                            <span class="preview-postit pink"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Features Section -->
    <section class="features" id="features">
        <div class="features-container">
            <div class="section-header">
                <h2>Everything you need to plan visually</h2>
                <p>Powerful features wrapped in a simple, intuitive interface that your whole team will love.</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-sticky-note"></i>
                    </div>
                    <h3>Drag & Drop Post-its</h3>
                    <p>Add colorful post-it notes anywhere on your board. Double-click to add details, owner, and status.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon" style="background: var(--secondary);">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3>Week Planner</h3>
                    <p>Plan your sprints with a visual week planner. Set start dates and track progress across multiple tracks.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon" style="background: var(--success);">
                        <i class="fas fa-th-large"></i>
                    </div>
                    <h3>Risk Matrix</h3>
                    <p>Visualize risks with 2x2 matrices. Automatically calculate risk scores based on probability and impact.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon" style="background: var(--accent);">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Team Management</h3>
                    <p>Add team members and assign them as owners to tasks and actions across your board.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon" style="background: #ec4899;">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>KPI Tracking</h3>
                    <p>Monitor key performance indicators with visual red/yellow/green status indicators.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon" style="background: #8b5cf6;">
                        <i class="fas fa-save"></i>
                    </div>
                    <h3>Auto-Save</h3>
                    <p>Never lose your work. Everything saves automatically to your browser. Export anytime.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- CTA Section -->
    <section class="cta">
        <div class="cta-container">
            <h2>Ready to plan visually?</h2>
            <p>Start your first board in seconds. No account needed.</p>
            <a href="board.html?new=true" class="btn-primary">
                <i class="fas fa-rocket"></i> Create Your Board
            </a>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-logo">vimpl<span>.com</span></div>
            <div class="footer-links">
                <a href="#" class="footer-link">Privacy</a>
                <a href="#" class="footer-link">Terms</a>
                <a href="https://github.com/kristiansteen/vimpl" class="footer-link" target="_blank">
                    <i class="fab fa-github"></i> GitHub
                </a>
            </div>
            <div class="footer-copy">© 2025 vimpl. All rights reserved.</div>
        </div>
    </footer>

    <div id="create-board-modal" style="display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
      <div style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 400px; border-radius: 8px;">
        <h2>Create a new board</h2>
        <p>Please enter a name for your new board.</p>
        <input type="text" id="board-name-input" placeholder="Board name" style="width: 100%; padding: 12px 20px; margin: 8px 0; display: inline-block; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
        <button id="submit-board-name" style="width: 100%; background-color: #4CAF50; color: white; padding: 14px 20px; margin: 8px 0; border: none; border-radius: 4px; cursor: pointer;">Create Board</button>
      </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const createBoardLinks = document.querySelectorAll('a[href="board.html?new=true"]');
        const modal = document.getElementById('create-board-modal');
        const boardNameInput = document.getElementById('board-name-input');
        const submitBoardNameBtn = document.getElementById('submit-board-name');

        createBoardLinks.forEach(link => {
          link.addEventListener('click', (event) => {
            event.preventDefault();
            modal.style.display = 'block';
          });
        });

        submitBoardNameBtn.addEventListener('click', () => {
          const boardName = boardNameInput.value.trim();
          if (boardName) {
            const slug = boardName.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');
            window.location.href = `board.html#${slug}`;
          } else {
            alert('Please enter a board name.');
          }
        });

        window.addEventListener('click', (event) => {
          if (event.target == modal) {
            modal.style.display = 'none';
          }
        });
      });
    </script>
    <script src="assets/js/auth.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const authContainer = document.querySelector('.nav-auth');
        const user = getCurrentUser();

        if (user) {
          authContainer.innerHTML = `
            <span class="nav-user">Hello, ${user.name}</span>
            <a href="#" onclick="logout()" class="nav-cta">Logout</a>
          `;
        } else {
          const isGoogleConfigured = googleConfig && googleConfig.client_id && !googleConfig.client_id.includes('YOUR_');
          const isMicrosoftConfigured = microsoftConfig && microsoftConfig.client_id && !microsoftConfig.client_id.includes('YOUR_');

          const googleLoginButton = isGoogleConfigured
            ? `<a href="#" class="nav-cta-secondary" onclick="loginWithGoogle()">Login with Google</a>`
            : `<a href="#" class="nav-cta-secondary" style="color: #aaa; cursor: not-allowed; text-decoration: none;" title="SSO is not configured. Please set the client ID in auth.js.">Login with Google</a>`;

          const microsoftLoginButton = isMicrosoftConfigured
            ? `<a href="#" class="nav-cta-secondary" onclick="loginWithMicrosoft()">Login with Microsoft</a>`
            : `<a href="#" class="nav-cta-secondary" style="color: #aaa; cursor: not-allowed; text-decoration: none;" title="SSO is not configured. Please set the client ID in auth.js.">Login with Microsoft</a>`;

          authContainer.innerHTML = `
            <form id="email-login-form" style="display: flex; align-items: center; gap: 8px;">
              <input type="email" id="email-input" placeholder="Enter your email" style="padding: 6px; border: 1px solid #ccc; border-radius: 4px;">
              <input type="password" placeholder="Password" style="padding: 6px; border: 1px solid #ccc; border-radius: 4px;" disabled>
              <button type="submit" class="nav-cta">Login</button>
            </form>
            ${googleLoginButton}
            ${microsoftLoginButton}
          `;

          document.getElementById('email-login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('email-input').value;
            if (email) {
              loginWithEmail(email);
            }
          });
        }
      });
    </script>
</body>
</html>
